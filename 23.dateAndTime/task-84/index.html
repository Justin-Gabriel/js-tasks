<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      'use strict'
        function formatDate(date) {
            let now = new Date();
            let diff = now - date;
            let year = date.getFullYear().toString().slice(-2);
            let month = (date.getMonth() + 1) < 10 ? '0'+(date.getMonth() + 1) : (date.getMonth()+1) ;
            let day = date.getDate() < 10 ? '0'+date.getDate() : date.getDate();
            let hour  = date.getHours() < 10 ? '0'+date.getHours() : date.getHours();
            let min = date.getMinutes() < 10 ? '0'+date.getMinutes() : date.getMinutes();

            if (diff < 1000) {

                return "right now";

            } else if(diff/1000 < 60) {

                return `${diff/1000} sec. ago`;

            } else if(diff/60000 < 60) {

                return `${diff/60000} min. ago`;

            } else {
                
                return `${day}.${month}.${year} ${hour}:${min}`;

            }
        }

        alert( formatDate(new Date(new Date - 1)) ); // "right now"

        alert( formatDate(new Date(new Date - 30 * 1000)) ); // "30 sec. ago"

        alert( formatDate(new Date(new Date - 5 * 60 * 1000)) ); // "5 min. ago"

        // yesterday's date like 31.12.16 20:00
        alert( formatDate(new Date(new Date - 86400 * 1000)) );
    </script>
  </body>
</html>